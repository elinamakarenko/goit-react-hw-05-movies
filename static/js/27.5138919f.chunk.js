"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[27],{27:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var a=r(885),n=r(791),c=r(501),o=r(871);var u=function(e,t){return fetch("".concat("https://api.themoviedb.org/3/").concat(e,"?&api_key=").concat("92ce6d7899f831323ae614f8261684f2","&query=").concat(t)).then((function(e){return e.json()}))},s={searchForm:"SearchBar_searchForm__V6XO6",searchFormInput:"SearchBar_searchFormInput__9ldTo"},i=r(184);function h(e){var t=e.onSubmit,r=(0,n.useState)(""),c=(0,a.Z)(r,2),o=c[0],u=c[1],h=function(){u("")};return(0,i.jsxs)("form",{className:s.searchForm,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),h()):alert("Please, enter movie title!")},children:[(0,i.jsx)("input",{className:s.searchFormInput,value:o,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){var t=e.target.value;u(t)}}),(0,i.jsx)("button",{className:s.searchFormButton,type:"submit",children:"Search"})]})}var m=r(673);function f(){var e,t=(0,o.TH)(),r=(0,n.useState)([]),s=(0,a.Z)(r,2),f=s[0],l=s[1],p=(0,c.lr)(),v=(0,a.Z)(p,2),_=v[0],d=v[1],F=null!==(e=_.get("query"))&&void 0!==e?e:"";(0,n.useEffect)((function(){""!==F&&u("search/movie",F).then((function(e){e&&l(e.results)})).catch((function(e){alert(e.message)}))}),[F]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{onSubmit:function(e){d(""!==e?{query:e}:{})}}),F&&(0,i.jsx)(m.Z,{path:"",movies:f,state:{from:t}})]})}}}]);
//# sourceMappingURL=27.5138919f.chunk.js.map